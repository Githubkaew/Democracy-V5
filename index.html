<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Democracy V5 - The Grand Finale</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai:wght@400;700&family=Press+Start+2P&display=swap');
        :root {
            --bg-main: #2c3e50; --bg-sidebar: #22303f; --bg-content: #34495e;
            --primary-accent: #1abc9c; --secondary-accent: #ecf0f1;
            --text-light: #fdfdfd; --text-dark: #bdc3c7; --font-pixel: 'Press Start 2P', monospace;
            --font-ui: 'IBM Plex Sans Thai', sans-serif;
            --color-pro: #2ecc71; --color-con: #e74c3c; --color-extra: #3498db;
        }
        body {
            background-color: var(--bg-main); color: var(--text-light); font-family: var(--font-ui);
            margin: 0; display: flex; height: 100vh; font-size: 14px; user-select: none;
            overflow: hidden;
        }
        #sidebar {
            width: 350px; background-color: var(--bg-sidebar); padding: 20px; box-sizing: border-box;
            display: flex; flex-direction: column; gap: 15px; border-right: 4px solid #1c2833; overflow-y: auto;
        }
        #main-content {
            flex: 1; background-color: var(--bg-main); padding: 20px;
            overflow-y: auto; color: var(--text-light);
        }
        #top-bar {
            background: var(--bg-content); padding: 10px 15px; color: var(--text-light); font-size: 13px; margin-bottom: 20px;
            display: flex; flex-wrap: wrap; justify-content: space-between; border-radius: 5px; border-left: 5px solid var(--primary-accent);
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
        }
        h1, h2, h3 { color: var(--text-light); margin: 15px 0 10px 0; font-family: var(--font-pixel); text-shadow: 2px 2px #1c2833;}
        h1 { font-size: 24px; color: var(--secondary-accent); }
        h2 { font-size: 20px; }
        h3 { font-size: 16px; color: var(--primary-accent); }
        button, select {
            background-color: var(--bg-content); color: var(--text-light); border: 2px solid var(--primary-accent);
            padding: 12px 15px; cursor: pointer; font-family: var(--font-ui); font-weight: bold; font-size: 14px;
            width: 100%; text-align: left; margin-bottom: 8px; box-sizing: border-box; border-radius: 5px; transition: all 0.2s ease;
            box-shadow: 2px 2px 0px var(--bg-sidebar);
        }
        button:hover, select:hover { background-color: var(--primary-accent); color: var(--bg-sidebar); }
        button:active { transform: translateY(2px) translateX(2px); box-shadow: none; }
        button:disabled { background-color: #555; border-color: #444; color: #888; cursor: not-allowed; }
        
        #setup-screen button, #welcome-screen button {
            text-align: center; font-size: 16px; padding: 15px; background-color: var(--primary-accent); color: var(--bg-sidebar);
        }
        #setup-screen button:hover, #welcome-screen button:hover { background-color: #16a085; }

        .tab-content { display: none; }
        .item-box {
            background-color: var(--bg-content); border-left: 5px solid var(--primary-accent);
            padding: 15px 20px; margin-bottom: 15px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.2);
        }
        .item-box h4 { font-family: var(--font-pixel); font-size: 14px; margin: 0 0 10px 0; color: var(--secondary-accent); }
        .item-box .description { font-style: italic; color: var(--text-dark); margin-bottom: 12px; font-size: 13px; }
        .item-box .details p { margin: 4px 0; font-size: 12px; line-height: 1.5; }
        .item-box .details .pro { color: var(--color-pro); }
        .item-box .details .con { color: var(--color-con); }
        .item-box .details .extra { color: var(--color-extra); }
        
        .help-text { font-size: 12px; color: var(--secondary-accent); margin-bottom: 15px; line-height: 1.5; opacity: 0.9; }
        .log-area {
            height: 250px; overflow-y: scroll; background: #1c2833; color: var(--text-light);
            padding: 15px; font-size: 12px; border-radius: 8px; margin-top: 20px; border: 2px solid var(--bg-content);
            font-family: monospace; line-height: 1.6;
        }
        #sidebar-setup-controls, #game-controls { display: flex; flex-direction: column; gap: 10px; }
        hr { border: none; border-top: 2px solid var(--bg-content); margin: 20px 0; }
        canvas { background-color: var(--bg-content); border-radius: 8px; padding: 10px; }
        #citizen-demands { border: 2px dashed var(--primary-accent); padding: 15px; margin-top: 20px; border-radius: 8px; }
        #citizen-demands ul { padding-left: 20px; margin: 0; }
        #citizen-demands li { margin-bottom: 8px; }

        .party-status-box { transition: opacity 0.5s; }
        .party-status-box.eliminated { opacity: 0.5; background-color: #2a3a2f; }
        .party-status-box.eliminated h3, .party-status-box.eliminated p { color: #999; text-decoration: line-through; }
    </style>
</head>
<body>

<div id="sidebar">
    <h1>D-Retro V5</h1>
    
    <div id="sidebar-setup-controls">
        <h3>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏Å‡∏°‡πÉ‡∏´‡∏°‡πà</h3>
        <button id="new-game-btn" title="‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÉ‡∏´‡∏°‡πà">‚ú® ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡πÉ‡∏´‡∏°‡πà</button>
    </div>

    <div id="game-controls" style="display:none;">
        <button id="add-money-btn" title="‡πÉ‡∏ä‡πâ‡πÄ‡∏™‡πâ‡∏ô‡∏™‡∏≤‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏£‡∏±‡∏ö‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô (‡πÄ‡∏û‡∏¥‡πà‡∏° 100,000,000)">üíµ ‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô</button>
        <button id="end-turn-btn" title="‡∏à‡∏ö‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏•‡∏∞‡πÉ‡∏´‡πâ AI ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£">‚û°Ô∏è ‡∏à‡∏ö‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô</button>
        <select id="ai-difficulty" title="‡∏õ‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ç‡∏≠‡∏á AI">
            <option value="1">AI: ‡∏á‡πà‡∏≤‡∏¢</option> <option value="2" selected>AI: ‡∏õ‡∏Å‡∏ï‡∏¥</option>
            <option value="3">AI: ‡∏¢‡∏≤‡∏Å</option> <option value="4">AI: ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç</option>
            <option value="5">AI: ‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ</option>
        </select>
        <hr>
        <button id="nav-stats" title="‡∏î‡∏π‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏¥‡∏¢‡∏°‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®">üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏£‡∏ß‡∏°</button>
        <button id="nav-parties" title="‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ç‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡∏û‡∏£‡∏£‡∏Ñ‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á">üèõÔ∏è ‡∏û‡∏£‡∏£‡∏Ñ‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á</button>
        <button id="nav-parliament" title="‡∏î‡∏π‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÉ‡∏ô‡∏£‡∏±‡∏ê‡∏™‡∏†‡∏≤‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡πÑ‡∏Å‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏ß‡∏ï">‚öñÔ∏è ‡∏£‡∏±‡∏ê‡∏™‡∏†‡∏≤</button>
        <button id="nav-opponent-actions" title="‡∏™‡∏≠‡∏î‡∏™‡πà‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡∏Ç‡∏≠‡∏á‡∏û‡∏£‡∏£‡∏Ñ‡∏Ñ‡∏π‡πà‡πÅ‡∏Ç‡πà‡∏á">ü§ñ ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß AI</button>
        <hr>
        <h3>‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£</h3>
        <button id="nav-laws" title="‡πÄ‡∏™‡∏ô‡∏≠‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏û‡∏±‡∏í‡∏≤‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®">üìú ‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢</button>
        <button id="nav-propaganda" title="‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πà‡∏≤‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏¥‡∏¢‡∏°‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡∏ù‡πà‡∏≤‡∏¢‡∏ï‡∏£‡∏á‡∏Ç‡πâ‡∏≤‡∏°">üì¢ ‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤‡∏ä‡∏ß‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠</button>
        <button id="nav-espionage" title="‡∏™‡πà‡∏á‡∏™‡∏≤‡∏¢‡∏•‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏•‡∏±‡∏ö">üïµÔ∏è ‡∏™‡∏≤‡∏¢‡∏•‡∏±‡∏ö</button>
        <button id="nav-assassination" title="‡∏™‡∏±‡πà‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡∏°‡∏•‡∏≠‡∏ö‡∏™‡∏±‡∏á‡∏´‡∏≤‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á">‚ò†Ô∏è ‡∏•‡∏≠‡∏ö‡∏™‡∏±‡∏á‡∏´‡∏≤‡∏£</button>
        <button id="nav-revolution" title="‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÉ‡∏ï‡πâ‡∏î‡∏¥‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡∏∏‡πà‡∏ô‡∏ß‡∏≤‡∏¢">üí£ ‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏õ‡∏è‡∏¥‡∏ß‡∏±‡∏ï‡∏¥/‡∏Å‡∏ö‡∏è</button>
        <hr>
        <button id="save-game-btn" title="‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏Å‡∏°</button>
        <button id="load-game-btn" title="‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏Å‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ß‡πâ">üìÇ ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏Å‡∏°</button>
    </div>
</div>

<div id="main-content">
    <div id="welcome-screen">
        <h2>Democracy V5</h2>
        <h3>The Grand Finale</h3>
        <p>‡∏ô‡∏≥‡∏û‡∏≤‡∏û‡∏£‡∏£‡∏Ñ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏™‡∏π‡πà‡∏ä‡∏±‡∏¢‡∏ä‡∏ô‡∏∞‡πÉ‡∏ô‡∏™‡∏°‡∏£‡∏†‡∏π‡∏°‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡∏ó‡∏∏‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à...‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢</p>
        <hr>
        <button id="welcome-start-btn">üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</button>
    </div>
    
    <div id="setup-screen" style="display:none;">
        <h2>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏Å‡∏°‡πÉ‡∏´‡∏°‡πà</h2>
        <div class="item-box">
            <h3>1. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®</h3>
            <select id="country-selector"></select>
            <div id="country-details" class="help-text" style="margin-top: 10px;"></div>
        </div>
        <div class="item-box">
            <h3>2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏û‡∏£‡∏£‡∏Ñ‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á</h3>
            <select id="party-selector"></select>
            <div id="party-details" class="help-text" style="margin-top: 10px;"></div>
        </div>
        <button id="start-game-btn">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
    </div>
    
    <div id="game-screen" style="display:none;">
        <div id="top-bar">
            <span id="country-info"></span> <span id="party-info"></span>
            <span id="turn-info"></span> <span id="money-info"></span>
        </div>
        
        <div id="citizen-demands"></div>

        <div id="stats-tab" class="tab-content"></div>
        <div id="parties-tab" class="tab-content"></div>
        <div id="parliament-tab" class="tab-content"></div>
        <div id="opponent-actions-tab" class="tab-content"></div>
        <div id="laws-tab" class="tab-content"></div>
        <div id="propaganda-tab" class="tab-content"></div>
        <div id="espionage-tab" class="tab-content"></div>
        <div id="assassination-tab" class="tab-content"></div>
        <div id="revolution-tab" class="tab-content"></div>
        
        <div class="log-area" id="log-area"></div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
// ================================================================================================
// ### GAME DATA - FULLY POPULATED & DETAILED ###
// ================================================================================================

const GameData = {};

const createDetailedItems = (count, type, details) => Array.from({length: count}, (_, i) => {
    const d = details(i);
    return { id: `${type.toLowerCase().replace(/\s/g, '')}${i}`, name: `${d.namePrefix} ${d.nameSuffix || i + 1}`, ...d };
});

GameData.countries = [
    {id:"thailand", name:"‡πÑ‡∏ó‡∏¢", pros:"‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á‡πÇ‡∏•‡∏à‡∏¥‡∏™‡∏ï‡∏¥‡∏Å‡∏™‡πå, ‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏Å‡∏£‡πà‡∏á", cons:"‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡∏•‡∏∑‡πà‡∏≠‡∏°‡∏•‡πâ‡∏≥‡∏™‡∏π‡∏á, ‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á", parties:[ {name:"‡∏û‡∏£‡∏£‡∏Ñ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏ó‡∏¢",pros:"‡∏ê‡∏≤‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏ô‡πà‡∏ô‡∏´‡∏ô‡∏≤‡πÉ‡∏ô‡∏ä‡∏ô‡∏ö‡∏ó",cons:"‡∏ñ‡∏π‡∏Å‡∏°‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏Ñ‡∏≠‡∏£‡πå‡∏£‡∏±‡∏õ‡∏ä‡∏±‡∏ô"}, {name:"‡∏û‡∏£‡∏£‡∏Ñ‡∏Å‡πâ‡∏≤‡∏ß‡πÑ‡∏Å‡∏•",pros:"‡πÑ‡∏î‡πâ‡πÉ‡∏à‡∏Ñ‡∏ô‡∏£‡∏∏‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà, ‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô",cons:"‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î‡∏™‡∏∏‡∏î‡πÇ‡∏ï‡πà‡∏á, ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏®‡∏±‡∏ï‡∏£‡∏π‡∏á‡πà‡∏≤‡∏¢"}, {name:"‡∏û‡∏£‡∏£‡∏Ñ‡∏£‡∏ß‡∏°‡πÑ‡∏ó‡∏¢‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ä‡∏≤‡∏ï‡∏¥",pros:"‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå‡∏ô‡∏¥‡∏¢‡∏°",cons:"‡∏†‡∏≤‡∏û‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö‡∏ó‡∏´‡∏≤‡∏£"}, {name:"‡∏û‡∏£‡∏£‡∏Ñ‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ò‡∏¥‡∏õ‡∏±‡∏ï‡∏¢‡πå",pros:"‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏£‡∏£‡∏Ñ‡πÄ‡∏Å‡πà‡∏≤‡πÅ‡∏Å‡πà, ‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå",cons:"‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏à‡∏∏‡∏î‡∏¢‡∏∑‡∏ô‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô"}, {name:"‡∏û‡∏£‡∏£‡∏Ñ‡∏†‡∏π‡∏°‡∏¥‡πÉ‡∏à‡πÑ‡∏ó‡∏¢",pros:"‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏±‡∏ê‡∏ö‡∏≤‡∏•",cons:"‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡πÄ‡∏ô‡πâ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏á‡∏ï‡∏ô‡πÄ‡∏≠‡∏á"} ]},
    {id:"usa", name:"‡∏™‡∏´‡∏£‡∏±‡∏ê‡∏≠‡πÄ‡∏°‡∏£‡∏¥‡∏Å‡∏≤", pros:"‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡πÉ‡∏´‡∏ç‡πà‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡πÇ‡∏•‡∏Å, ‡∏ú‡∏π‡πâ‡∏ô‡∏≥‡∏î‡πâ‡∏≤‡∏ô‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ", cons:"‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡πÅ‡∏ï‡∏Å‡πÅ‡∏¢‡∏Å, ‡∏´‡∏ô‡∏µ‡πâ‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞‡∏™‡∏π‡∏á", parties:[ {name:"‡∏û‡∏£‡∏£‡∏Ñ‡∏£‡∏µ‡∏û‡∏±‡∏ö‡∏•‡∏¥‡∏Å‡∏±‡∏ô",pros:"‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à, ‡∏£‡∏±‡∏Å‡∏ä‡∏≤‡∏ï‡∏¥",cons:"‡∏ï‡πà‡∏≠‡∏ï‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á"}, {name:"‡∏û‡∏£‡∏£‡∏Ñ‡πÄ‡∏î‡πÇ‡∏°‡πÅ‡∏Ñ‡∏£‡∏ï",pros:"‡πÄ‡∏ô‡πâ‡∏ô‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏á‡∏Ñ‡∏°, ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡∏ä‡∏ô",cons:"‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏†‡∏≤‡∏©‡∏µ‡∏™‡∏π‡∏á"}, {name:"‡∏û‡∏£‡∏£‡∏Ñ‡∏Å‡∏£‡∏µ‡∏ô",pros:"‡πÉ‡∏™‡πà‡πÉ‡∏à‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°",cons:"‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡πÑ‡∏°‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô"}, {name:"‡∏û‡∏£‡∏£‡∏Ñ‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏ô‡∏¥‡∏¢‡∏°",pros:"‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ó‡πà‡∏≤‡πÄ‡∏ó‡∏µ‡∏¢‡∏°",cons:"‡∏ñ‡∏π‡∏Å‡∏°‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏±‡∏¢‡∏ï‡πà‡∏≠‡∏ó‡∏∏‡∏ô‡∏ô‡∏¥‡∏¢‡∏°"}, {name:"‡∏û‡∏£‡∏£‡∏Ñ‡∏≠‡∏¥‡∏™‡∏£‡∏†‡∏≤‡∏û‡∏ô‡∏¥‡∏¢‡∏°",pros:"‡πÄ‡∏ô‡πâ‡∏ô‡πÄ‡∏™‡∏£‡∏µ‡∏†‡∏≤‡∏û‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î",cons:"‡∏ï‡πà‡∏≠‡∏ï‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏à‡∏≤‡∏Å‡∏£‡∏±‡∏ê‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"} ]},
    {id:"uk", name:"‡∏™‡∏´‡∏£‡∏≤‡∏ä‡∏≠‡∏≤‡∏ì‡∏≤‡∏à‡∏±‡∏Å‡∏£", pros:"‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡πÇ‡∏•‡∏Å, ‡∏≠‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏•‡∏ó‡∏≤‡∏á‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°‡∏™‡∏π‡∏á", cons:"‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏à‡∏≤‡∏Å Brexit, ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏£‡∏≠‡∏á‡∏ä‡∏µ‡∏û", parties:[ {name:"‡∏û‡∏£‡∏£‡∏Ñ‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå‡∏ô‡∏¥‡∏¢‡∏° (Tories)",pros:"‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£, ‡∏´‡∏ô‡∏∏‡∏ô‡∏†‡∏≤‡∏Ñ‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à",cons:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏¥‡∏¢‡∏°‡∏ï‡∏Å‡∏ï‡πà‡∏≥‡∏à‡∏≤‡∏Å‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∑‡πâ‡∏≠‡∏â‡∏≤‡∏ß"}, {name:"‡∏û‡∏£‡∏£‡∏Ñ‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô (Labour)",pros:"‡∏ê‡∏≤‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏´‡∏†‡∏≤‡∏û, ‡πÄ‡∏ô‡πâ‡∏ô‡∏£‡∏±‡∏ê‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£",cons:"‡∏ñ‡∏π‡∏Å‡∏°‡∏≠‡∏á‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏Å‡πà‡∏á‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à"}, {name:"‡∏û‡∏£‡∏£‡∏Ñ‡πÄ‡∏™‡∏£‡∏µ‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ò‡∏¥‡∏õ‡πÑ‡∏ï‡∏¢ (Lib Dems)",pros:"‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏•‡∏≤‡∏á, ‡∏°‡∏µ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•",cons:"‡∏ê‡∏≤‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÑ‡∏°‡πà‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏û‡∏≠"}, {name:"‡∏û‡∏£‡∏£‡∏Ñ‡∏ä‡∏≤‡∏ï‡∏¥‡∏™‡∏Å‡πá‡∏≠‡∏ï (SNP)",pros:"‡∏Ñ‡∏£‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÉ‡∏ô‡∏™‡∏Å‡πá‡∏≠‡∏ï‡πÅ‡∏•‡∏ô‡∏î‡πå",cons:"‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏Å‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏≠‡∏Å‡∏£‡∏≤‡∏ä"}, {name:"‡∏û‡∏£‡∏£‡∏Ñ‡∏Å‡∏£‡∏µ‡∏ô",pros:"‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô",cons:"‡∏Ç‡∏≤‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠‡∏î‡πâ‡∏≤‡∏ô‡∏≠‡∏∑‡πà‡∏ô"} ]},
    {id:"germany", name:"‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏ô‡∏µ", pros:"‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏Å‡∏£‡πà‡∏á, ‡∏°‡∏µ‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£‡∏†‡∏≤‡∏û", cons:"‡∏û‡∏∂‡πà‡∏á‡∏û‡∏≤‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏à‡∏≤‡∏Å‡∏£‡∏±‡∏™‡πÄ‡∏ã‡∏µ‡∏¢, ‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏™‡∏π‡∏á‡∏ß‡∏±‡∏¢", parties:[ {name:"‡∏û‡∏£‡∏£‡∏Ñ‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ò‡∏¥‡∏õ‡πÑ‡∏ï‡∏¢ (SPD)",pros:"‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£",cons:"‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢‡∏ê‡∏≤‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏î‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏¥‡∏°"}, {name:"‡∏û‡∏£‡∏£‡∏Ñ‡∏™‡∏´‡∏†‡∏≤‡∏û‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ò‡∏¥‡∏õ‡πÑ‡∏ï‡∏¢‡∏Ñ‡∏£‡∏¥‡∏™‡πÄ‡∏ï‡∏µ‡∏¢‡∏ô (CDU/CSU)",pros:"‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏£‡∏£‡∏Ñ‡∏™‡∏≤‡∏¢‡∏Å‡∏•‡∏≤‡∏á-‡∏Ç‡∏ß‡∏≤, ‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠",cons:"‡∏†‡∏≤‡∏û‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå‡∏ô‡∏¥‡∏¢‡∏°"}, {name:"‡∏û‡∏£‡∏£‡∏Ñ‡∏Å‡∏£‡∏µ‡∏ô",pros:"‡∏Ñ‡∏ô‡∏£‡∏∏‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏ô‡∏¥‡∏¢‡∏°, ‡πÄ‡∏ô‡πâ‡∏ô‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°",cons:"‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏≠‡∏≤‡∏à‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°"}, {name:"‡∏û‡∏£‡∏£‡∏Ñ‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ò‡∏¥‡∏õ‡πÑ‡∏ï‡∏¢‡πÄ‡∏™‡∏£‡∏µ (FDP)",pros:"‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏ï‡∏•‡∏≤‡∏î‡πÄ‡∏™‡∏£‡∏µ, ‡∏•‡∏î‡∏†‡∏≤‡∏©‡∏µ",cons:"‡∏ñ‡∏π‡∏Å‡∏°‡∏≠‡∏á‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏£‡∏£‡∏Ñ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ô‡∏£‡∏ß‡∏¢"}, {name:"‡∏û‡∏£‡∏£‡∏Ñ‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏ô‡∏µ (AfD)",pros:"‡∏ï‡πà‡∏≠‡∏ï‡πâ‡∏≤‡∏ô‡∏ú‡∏π‡πâ‡∏≠‡∏û‡∏¢‡∏û, ‡∏ä‡∏≤‡∏ï‡∏¥‡∏ô‡∏¥‡∏¢‡∏°",cons:"‡∏ñ‡∏π‡∏Å‡∏Å‡∏µ‡∏î‡∏Å‡∏±‡∏ô‡∏à‡∏≤‡∏Å‡∏û‡∏£‡∏£‡∏Ñ‡∏≠‡∏∑‡πà‡∏ô"} ]},
    {id:"japan", name:"‡∏ç‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏ô", pros:"‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏Å‡πâ‡∏≤‡∏ß‡∏´‡∏ô‡πâ‡∏≤, ‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢", cons:"‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏™‡∏π‡∏á‡∏ß‡∏±‡∏¢, ‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡∏ä‡πâ‡∏≤", parties:[ {name:"‡∏û‡∏£‡∏£‡∏Ñ‡πÄ‡∏™‡∏£‡∏µ‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ò‡∏¥‡∏õ‡πÑ‡∏ï‡∏¢ (LDP)",pros:"‡∏Ñ‡∏£‡∏≠‡∏á‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡∏¢‡∏≤‡∏ß‡∏ô‡∏≤‡∏ô, ‡∏°‡∏µ‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£‡∏†‡∏≤‡∏û",cons:"‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏∏‡∏õ‡∏ñ‡∏±‡∏°‡∏†‡πå, ‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå‡∏ô‡∏¥‡∏¢‡∏°"}, {name:"‡∏û‡∏£‡∏£‡∏Ñ‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ò‡∏¥‡∏õ‡πÑ‡∏ï‡∏¢‡∏£‡∏±‡∏ê‡∏ò‡∏£‡∏£‡∏°‡∏ô‡∏π‡∏ç (CDP)",pros:"‡πÄ‡∏õ‡πá‡∏ô‡∏ù‡πà‡∏≤‡∏¢‡∏Ñ‡πâ‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏Å, ‡πÄ‡∏™‡∏£‡∏µ‡∏ô‡∏¥‡∏¢‡∏°",cons:"‡∏Ç‡∏≤‡∏î‡πÄ‡∏≠‡∏Å‡∏†‡∏≤‡∏û"}, {name:"‡∏û‡∏£‡∏£‡∏Ñ‡πÇ‡∏Ñ‡πÄ‡∏°‡∏≠‡∏¥‡πÇ‡∏ï",pros:"‡∏°‡∏µ‡∏ê‡∏≤‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏à‡∏≤‡∏Å‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡∏®‡∏≤‡∏™‡∏ô‡∏≤",cons:"‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏£‡∏£‡∏Ñ‡∏£‡πà‡∏ß‡∏°‡∏ô‡∏¥‡∏£‡∏±‡∏ô‡∏î‡∏£‡πå"}, {name:"‡∏û‡∏£‡∏£‡∏Ñ‡∏Ñ‡∏≠‡∏°‡∏°‡∏¥‡∏ß‡∏ô‡∏¥‡∏™‡∏ï‡πå‡∏ç‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏ô (JCP)",pros:"‡∏ï‡πà‡∏≠‡∏ï‡πâ‡∏≤‡∏ô‡∏à‡∏±‡∏Å‡∏£‡∏ß‡∏£‡∏£‡∏î‡∏¥‡∏ô‡∏¥‡∏¢‡∏°",cons:"‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏£‡∏£‡∏Ñ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡∏Å‡∏•‡∏±‡∏ß"}, {name:"‡∏û‡∏£‡∏£‡∏Ñ‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°‡∏ç‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏ô (Ishin)",pros:"‡πÄ‡∏ô‡πâ‡∏ô‡∏õ‡∏è‡∏¥‡∏£‡∏π‡∏õ, ‡∏ä‡∏≤‡∏ï‡∏¥‡∏ô‡∏¥‡∏¢‡∏°",cons:"‡∏ê‡∏≤‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏´‡∏•‡∏±‡∏Å‡∏≠‡∏¢‡∏π‡πà‡πÇ‡∏≠‡∏ã‡∏≤‡∏Å‡πâ‡∏≤"} ]},
    // Adding 17 more countries with real names and parties
    ...[
        {id:"france", name:"‡∏ù‡∏£‡∏±‡πà‡∏á‡πÄ‡∏®‡∏™", pros:"‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏´‡∏£‡∏π‡∏´‡∏£‡∏≤, ‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏î‡πà‡∏ô", cons:"‡∏õ‡∏£‡∏∞‡∏ó‡πâ‡∏ß‡∏á‡∏ö‡πà‡∏≠‡∏¢, ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡∏ö‡∏π‡∏£‡∏ì‡∏≤‡∏Å‡∏≤‡∏£", parties: [{name:"Renaissance"}, {name:"National Rally"}, {name:"La France Insoumise"}, {name:"The Republicans"}, {name:"Socialist Party"}]},
        {id:"canada", name:"‡πÅ‡∏Ñ‡∏ô‡∏≤‡∏î‡∏≤", pros:"‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥, ‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏´‡∏•‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢", cons:"‡∏û‡∏∂‡πà‡∏á‡∏û‡∏≤‡∏™‡∏´‡∏£‡∏±‡∏ê‡∏Ø, ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô‡∏™‡∏π‡∏á", parties: [{name:"Liberal Party"}, {name:"Conservative Party"}, {name:"New Democratic Party"}, {name:"Bloc Qu√©b√©cois"}, {name:"Green Party"}]},
        {id:"australia", name:"‡∏≠‡∏≠‡∏™‡πÄ‡∏ï‡∏£‡πÄ‡∏•‡∏µ‡∏¢", pros:"‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£, ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏™‡∏π‡∏á", cons:"‡∏û‡∏∂‡πà‡∏á‡∏û‡∏≤‡∏à‡∏µ‡∏ô, ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°", parties: [{name:"Labor Party"}, {name:"Liberal Party"}, {name:"The Nationals"}, {name:"The Greens"}, {name:"One Nation"}]},
        {id:"india", name:"‡∏≠‡∏¥‡∏ô‡πÄ‡∏î‡∏µ‡∏¢", pros:"‡∏ï‡∏•‡∏≤‡∏î‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡πÇ‡∏†‡∏Ñ‡πÉ‡∏´‡∏ç‡πà, ‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å", cons:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å‡∏à‡∏ô, ‡∏°‡∏•‡∏û‡∏¥‡∏©‡∏™‡∏π‡∏á", parties: [{name:"Bharatiya Janata Party (BJP)"}, {name:"Indian National Congress"}, {name:"Aam Aadmi Party"}, {name:"Trinamool Congress"}, {name:"Dravida Munnetra Kazhagam (DMK)"}]},
        {id:"brazil", name:"‡∏ö‡∏£‡∏≤‡∏ã‡∏¥‡∏•", pros:"‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£‡∏£‡∏°, ‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥", cons:"‡∏Ñ‡∏≠‡∏£‡πå‡∏£‡∏±‡∏õ‡∏ä‡∏±‡∏ô, ‡∏≠‡∏≤‡∏ä‡∏ç‡∏≤‡∏Å‡∏£‡∏£‡∏°‡∏™‡∏π‡∏á", parties: [{name:"Workers' Party (PT)"}, {name:"Liberal Party (PL)"}, {name:"Brazil Union"}, {name:"Social Democratic Party (PSD)"}, {name:"Brazilian Democratic Movement (MDB)"}]},
        {id:"russia", name:"‡∏£‡∏±‡∏™‡πÄ‡∏ã‡∏µ‡∏¢", pros:"‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô, ‡πÅ‡∏™‡∏ô‡∏¢‡∏≤‡∏ô‡∏∏‡∏†‡∏≤‡∏û‡∏ó‡∏≤‡∏á‡∏ó‡∏´‡∏≤‡∏£", cons:"‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏ß‡πà‡∏≥‡∏ö‡∏≤‡∏ï‡∏£, ‡∏Ñ‡∏≠‡∏£‡πå‡∏£‡∏±‡∏õ‡∏ä‡∏±‡∏ô", parties: [{name:"United Russia"}, {name:"Communist Party"}, {name:"Liberal Democratic Party"}, {name:"A Just Russia"}, {name:"New People"}]},
        {id:"china", name:"‡∏à‡∏µ‡∏ô", pros:"‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡πÇ‡∏ï‡πÄ‡∏£‡πá‡∏ß, ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï‡∏™‡∏π‡∏á", cons:"‡πÄ‡∏ú‡∏î‡πá‡∏à‡∏Å‡∏≤‡∏£‡∏û‡∏£‡∏£‡∏Ñ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß, ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡∏ä‡∏ô", parties: [{name:"Communist Party of China"}, {name:"Revolutionary Committee of the Kuomintang"}, {name:"China Democratic League"}, {name:"China National Democratic Construction Association"}, {name:"Jiusan Society"}]},
        {id:"south_korea", name:"‡πÄ‡∏Å‡∏≤‡∏´‡∏•‡∏µ‡πÉ‡∏ï‡πâ", pros:"‡∏ú‡∏π‡πâ‡∏ô‡∏≥‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ, ‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏° K-Pop", cons:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏Å‡∏≤‡∏´‡∏•‡∏µ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠", parties: [{name:"Democratic Party"}, {name:"People Power Party"}, {name:"Justice Party"}, {name:"Basic Income Party"}, {name:"Progressive Party"}]},
        {id:"italy", name:"‡∏≠‡∏¥‡∏ï‡∏≤‡∏•‡∏µ", pros:"‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß, ‡∏≠‡∏≤‡∏´‡∏≤‡∏£, ‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô", cons:"‡∏´‡∏ô‡∏µ‡πâ‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞‡∏™‡∏π‡∏á, ‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÑ‡∏£‡πâ‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£‡∏†‡∏≤‡∏û", parties: [{name:"Brothers of Italy"}, {name:"Democratic Party"}, {name:"Five Star Movement"}, {name:"Lega"}, {name:"Forza Italia"}]},
        {id:"spain", name:"‡∏™‡πÄ‡∏õ‡∏ô", pros:"‡∏Å‡∏≤‡∏£‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß, ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô", cons:"‡∏ß‡πà‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡∏™‡∏π‡∏á, ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÅ‡∏Ñ‡∏ß‡πâ‡∏ô‡∏Å‡∏≤‡∏ï‡∏≤‡∏•‡∏∏‡∏ç‡∏ç‡∏≤", parties: [{name:"People's Party (PP)"}, {name:"Socialist Workers' Party (PSOE)"}, {name:"Vox"}, {name:"Sumar"}, {name:"Republican Left of Catalonia"}]},
        {id:"netherlands", name:"‡πÄ‡∏ô‡πÄ‡∏ò‡∏≠‡∏£‡πå‡πÅ‡∏•‡∏ô‡∏î‡πå", pros:"‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤, ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ô‡πâ‡∏≥", cons:"‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô‡∏™‡∏π‡∏á, ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£‡∏£‡∏°", parties: [{name:"Party for Freedom (PVV)"}, {name:"GroenLinks‚ÄìPvdA"}, {name:"People's Party for Freedom and Democracy (VVD)"}, {name:"New Social Contract"}, {name:"Democrats 66"}]},
        {id:"sweden", name:"‡∏™‡∏ß‡∏µ‡πÄ‡∏î‡∏ô", pros:"‡∏£‡∏±‡∏ê‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£, ‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°", cons:"‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÅ‡∏Å‡πä‡∏á‡∏≠‡∏≤‡∏ä‡∏ç‡∏≤‡∏Å‡∏£‡∏£‡∏°", parties: [{name:"Social Democratic Party"}, {name:"Sweden Democrats"}, {name:"Moderate Party"}, {name:"Left Party"}, {name:"Centre Party"}]},
        {id:"turkey", name:"‡∏ï‡∏∏‡∏£‡∏Å‡∏µ", pros:"‡∏à‡∏∏‡∏î‡∏¢‡∏∏‡∏ó‡∏ò‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå, ‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß", cons:"‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏ü‡πâ‡∏≠‡∏™‡∏π‡∏á, ‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡∏ô‡∏¥‡∏¢‡∏°", parties: [{name:"Justice and Development Party (AKP)"}, {name:"Republican People's Party (CHP)"}, {name:"Peoples' Equality and Democracy Party (DEM)"}, {name:"Nationalist Movement Party (MHP)"}, {name:"Good Party (ƒ∞Yƒ∞)"}]},
        {id:"indonesia", name:"‡∏≠‡∏¥‡∏ô‡πÇ‡∏î‡∏ô‡∏µ‡πÄ‡∏ã‡∏µ‡∏¢", pros:"‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡∏°‡∏≤‡∏Å, ‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥", cons:"‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô, ‡∏Ñ‡∏≠‡∏£‡πå‡∏£‡∏±‡∏õ‡∏ä‡∏±‡∏ô", parties: [{name:"PDI-P"}, {name:"Golkar"}, {name:"Gerindra"}, {name:"Nasdem Party"}, {name:"National Awakening Party (PKB)"}]},
        {id:"south_africa", name:"‡πÅ‡∏≠‡∏ü‡∏£‡∏¥‡∏Å‡∏≤‡πÉ‡∏ï‡πâ", pros:"‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏á‡πÅ‡∏£‡πà, ‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡πÉ‡∏´‡∏ç‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡πÅ‡∏≠‡∏ü‡∏£‡∏¥‡∏Å‡∏≤", cons:"‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡∏•‡∏∑‡πà‡∏≠‡∏°‡∏•‡πâ‡∏≥, ‡∏≠‡∏≤‡∏ä‡∏ç‡∏≤‡∏Å‡∏£‡∏£‡∏°", parties: [{name:"African National Congress (ANC)"}, {name:"Democratic Alliance (DA)"}, {name:"uMkhonto weSizwe (MK)"}, {name:"Economic Freedom Fighters (EFF)"}, {name:"Inkatha Freedom Party (IFP)"}]},
        {id:"mexico", name:"‡πÄ‡∏°‡πá‡∏Å‡∏ã‡∏¥‡πÇ‡∏Å", pros:"‡∏ê‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï, ‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°", cons:"‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î, ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á", parties: [{name:"Morena"}, {name:"National Action Party (PAN)"}, {name:"Institutional Revolutionary Party (PRI)"}, {name:"Citizens' Movement"}, {name:"Green Ecologist Party"}]},
        {id:"argentina", name:"‡∏≠‡∏≤‡∏£‡πå‡πÄ‡∏à‡∏ô‡∏ï‡∏¥‡∏ô‡∏≤", pros:"‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£‡∏£‡∏°, ‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£", cons:"‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏ü‡πâ‡∏≠‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á, ‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡πÑ‡∏°‡πà‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á", parties: [{name:"La Libertad Avanza"}, {name:"Uni√≥n por la Patria"}, {name:"Juntos por el Cambio"}, {name:"Hacemos por Nuestro Pa√≠s"}, {name:"Frente de Izquierda y de Trabajadores"}]}
    ].map(c => ({...c, parties: c.parties.map(p => ({...p, pros: p.pros || "‡∏ê‡∏≤‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Å‡∏•‡∏∏‡πà‡∏°", cons: p.cons || "‡∏Ç‡∏≤‡∏î‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô"}))}))
];

GameData.laws = createDetailedItems(100, 'Law', i => {
    const lawTypes = [
        {type: '‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à', name: '‡∏•‡∏î‡∏†‡∏≤‡∏©‡∏µ‡∏ô‡∏¥‡∏ï‡∏¥‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•', pros: '‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∏‡∏ô', cons: '‡∏£‡∏±‡∏ê‡πÄ‡∏™‡∏µ‡∏¢‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ', extra: '‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ó‡∏∏‡∏ô‡∏û‡∏≠‡πÉ‡∏à'},
        {type: '‡∏™‡∏±‡∏á‡∏Ñ‡∏°', name: '‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏™‡∏°‡∏£‡∏™‡πÄ‡∏ó‡πà‡∏≤‡πÄ‡∏ó‡∏µ‡∏¢‡∏°', pros: '‡∏™‡πà‡∏á‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ó‡πà‡∏≤‡πÄ‡∏ó‡∏µ‡∏¢‡∏°', cons: '‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå‡∏ô‡∏¥‡∏¢‡∏°‡∏ï‡πà‡∏≠‡∏ï‡πâ‡∏≤‡∏ô', extra: '‡∏Å‡∏•‡∏∏‡πà‡∏° LGTBQ+ ‡∏û‡∏≠‡πÉ‡∏à'},
        {type: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á', name: '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≠‡∏á‡∏ó‡∏±‡∏û', pros: '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏®‡∏±‡∏Å‡∏¢‡∏†‡∏≤‡∏û‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®', cons: '‡πÄ‡∏ö‡∏µ‡∏¢‡∏î‡∏ö‡∏±‡∏á‡∏á‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏≠‡∏∑‡πà‡∏ô', extra: '‡∏Å‡∏≠‡∏á‡∏ó‡∏±‡∏û‡∏û‡∏≠‡πÉ‡∏à'},
        {type: '‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°', name: '‡∏†‡∏≤‡∏©‡∏µ‡∏Ñ‡∏≤‡∏£‡πå‡∏ö‡∏≠‡∏ô', pros: '‡∏•‡∏î‡∏°‡∏•‡∏û‡∏¥‡∏©‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß', cons: '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°', extra: '‡∏ô‡∏±‡∏Å‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°‡∏û‡∏≠‡πÉ‡∏à'},
        {type: '‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à', name: '‡∏Ç‡∏∂‡πâ‡∏ô‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏á‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥', pros: '‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ô‡πâ‡∏≠‡∏¢', cons: '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏†‡∏≤‡∏£‡∏∞‡∏ô‡∏≤‡∏¢‡∏à‡πâ‡∏≤‡∏á', extra: '‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏û‡∏≠‡πÉ‡∏à'},
        {type: '‡∏™‡∏±‡∏á‡∏Ñ‡∏°', name: '‡∏õ‡∏è‡∏¥‡∏£‡∏π‡∏õ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤', pros: '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£', cons: '‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏≤‡∏ô,‡πÉ‡∏ä‡πâ‡∏á‡∏ö‡∏™‡∏π‡∏á', extra: '‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ú‡∏π‡πâ‡∏õ‡∏Å‡∏Ñ‡∏£‡∏≠‡∏á‡∏û‡∏≠‡πÉ‡∏à'},
        {type: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á', name: '‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á‡πÑ‡∏ã‡πÄ‡∏ö‡∏≠‡∏£‡πå', pros: '‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢‡∏Ñ‡∏∏‡∏Å‡∏Ñ‡∏≤‡∏°‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå', cons: '‡∏≠‡∏≤‡∏à‡∏•‡∏∞‡πÄ‡∏°‡∏¥‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß', extra: '‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏û‡∏≠‡πÉ‡∏à'},
        {type: '‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°', name: '‡∏™‡πà‡∏á‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏™‡∏∞‡∏≠‡∏≤‡∏î', pros: '‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏û‡∏∂‡πà‡∏á‡∏û‡∏≤‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á‡∏ü‡∏≠‡∏™‡∏ã‡∏¥‡∏•', cons: '‡∏Ñ‡πà‡∏≤‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏≠‡∏≤‡∏à‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡∏™‡∏±‡πâ‡∏ô', extra: '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏•‡∏á‡∏ó‡∏∏‡∏ô'}
    ];
    const d = lawTypes[i % lawTypes.length];
    return { namePrefix: d.name, nameSuffix: `‡∏â‡∏ö‡∏±‡∏ö‡∏ó‡∏µ‡πà ${Math.floor(i/lawTypes.length)+1}`, description: `‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏ß‡πà‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£${d.name}`, cost: 50 + i * 10, effects: { satisfaction: Math.floor(Math.random()*5-2), gdp: Math.floor(Math.random()*5-2), crime: -Math.floor(Math.random()*3) }, ...d };
});

GameData.propaganda = createDetailedItems(100, 'Propaganda', i => {
    const targets = ['‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡∏Ñ‡∏π‡πà‡πÅ‡∏Ç‡πà‡∏á', '‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏†‡∏≤‡∏û‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå', '‡πÅ‡∏Å‡πâ‡∏Ç‡πà‡∏≤‡∏ß‡∏â‡∏≤‡∏ß', '‡∏õ‡∏•‡∏∏‡∏Å‡∏£‡∏∞‡∏î‡∏°‡∏°‡∏ß‡∏•‡∏ä‡∏ô'];
    const target = targets[i % 4];
    return { namePrefix: `‡πÅ‡∏Ñ‡∏°‡πÄ‡∏õ‡∏ç${target}`, description: `‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠${target} ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà ${Math.floor(i/4)+1}`, cost: 20 + i * 5, effects: { self_pop: Math.ceil(Math.random()*3), opp_pop: -Math.floor(Math.random()*3), risk: 10 + i * 0.5 }, pros: `‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ô‡∏¥‡∏¢‡∏°‡πÅ‡∏•‡∏∞‡∏•‡∏î‡∏Ç‡∏≠‡∏á‡∏ù‡πà‡∏≤‡∏¢‡∏ï‡∏£‡∏á‡∏Ç‡πâ‡∏≤‡∏°`, cons: `‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ñ‡∏π‡∏Å‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏õ‡∏á`, extra: "‡∏´‡∏≤‡∏Å‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß‡∏à‡∏∞‡πÄ‡∏™‡∏µ‡∏¢‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ô‡∏¥‡∏¢‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≠‡∏á‡πÄ‡∏ó‡πà‡∏≤" };
});

GameData.espionage = createDetailedItems(30, 'SpyTeam', i => ({ namePrefix: `‡∏ó‡∏µ‡∏°‡∏™‡∏≤‡∏¢‡∏•‡∏±‡∏ö`, nameSuffix: ['Alpha', 'Bravo', 'Charlie', 'Delta', 'Echo'][i%5], description: `‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Ç‡πà‡∏≤‡∏ß‡∏Å‡∏£‡∏≠‡∏á${['‡πÑ‡∏ã‡πÄ‡∏ö‡∏≠‡∏£‡πå', '‡∏†‡∏≤‡∏Ñ‡∏™‡∏ô‡∏≤‡∏°', '‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à'][i%3]}`, cost: 100 + i * 20, effects: { successRate: 0.3 + i * 0.02 }, pros: "‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö", cons: "‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏™‡∏π‡∏á, ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏°‡∏≤‡∏Å" }));

GameData.assassins = createDetailedItems(30, 'AssassinTeam', i => {
    const names = ["‡∏´‡∏ô‡πà‡∏ß‡∏¢‡πÄ‡∏á‡∏≤‡∏û‡∏¥‡∏Ü‡∏≤‡∏ï (Phantom Cell)", "‡∏¢‡∏°‡∏ó‡∏π‡∏ï‡πÉ‡∏ô‡πÄ‡∏á‡∏≤‡∏°‡∏∑‡∏î (Wraith)", "‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏°‡∏∑‡∏≠‡∏™‡∏±‡∏á‡∏´‡∏≤‡∏£‡πÑ‡∏ß‡πÄ‡∏õ‡∏≠‡∏£‡πå (Viper)", "‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏•‡∏Ñ‡∏µ‡∏£‡∏µ (Valkyrie)", "‡πÄ‡∏î‡∏≠‡∏∞‡∏Ñ‡∏•‡∏µ‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå (The Cleaners)"];
    return { namePrefix: names[i % names.length], nameSuffix: ``, description: `‡∏ó‡∏µ‡∏°‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á`, cost: 500 + i * 50, effects: { successRate: 0.15 + i*0.005 }, pros: "‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÅ‡∏Å‡∏ô‡∏ô‡∏≥‡∏ù‡πà‡∏≤‡∏¢‡∏ï‡∏£‡∏á‡∏Ç‡πâ‡∏≤‡∏°", cons: "‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î, ‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°‡∏Å‡∏•‡∏≤‡∏á‡πÄ‡∏°‡∏∑‡∏≠‡∏á" };
});

GameData.revolution = createDetailedItems(60, 'RebelGroup', i => ({ namePrefix: i < 30 ? `‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏õ‡∏è‡∏¥‡∏ß‡∏±‡∏ï‡∏¥` : `‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Å‡∏ö‡∏è`, nameSuffix: ['‡∏≠‡∏∏‡∏î‡∏°‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏à‡∏±‡∏î', '‡πÅ‡∏ö‡πà‡∏á‡πÅ‡∏¢‡∏Å‡∏î‡∏¥‡∏ô‡πÅ‡∏î‡∏ô', '‡∏ï‡πà‡∏≠‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏∏‡∏ô‡∏ô‡∏¥‡∏¢‡∏°'][i%3], description: `‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡πÉ‡∏ï‡πâ‡∏î‡∏¥‡∏ô`, cost: 150 + i * 25, effects: { strength: 15 + i * 2, unrest: 5 + i * 0.5 }, pros: "‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡∏∏‡πà‡∏ô‡∏ß‡∏≤‡∏¢, ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏≠‡πÉ‡∏à‡∏£‡∏±‡∏ê‡∏ö‡∏≤‡∏•", cons: "‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏≠‡∏ô‡∏≤‡∏ò‡∏¥‡∏õ‡πÑ‡∏ï‡∏¢" }));

GameData.aiStrategies = createDetailedItems(30, 'AIStrategy', i => ({ namePrefix: `‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå`, nameSuffix: ['‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ê‡∏≤‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á', '‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡∏î‡πâ‡∏ß‡∏¢‡∏Ç‡πà‡∏≤‡∏ß‡∏•‡∏∑‡∏≠', '‡πÄ‡∏™‡∏ô‡∏≠‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏™‡∏∏‡∏î‡πÇ‡∏ï‡πà‡∏á', '‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏±‡∏ô‡∏ò‡∏°‡∏¥‡∏ï‡∏£‡πÄ‡∏á‡∏µ‡∏¢‡∏ö'][i%4], description: `‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏¥‡∏á‡∏£‡∏∏‡∏Å/‡∏£‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡∏¥‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö`, pros: "‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÉ‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°", cons: "‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏±‡∏ß", effects: { pop_gain: Math.random() > 0.5 ? 2 : 0, target_pop_loss: Math.random() > 0.3 ? 3 : 0, money_gain: Math.random() > 0.8 ? 100 : 0 } }));

GameData.parliamentMechanics = createDetailedItems(30, 'ParliamentMechanic', i => ({ namePrefix: `‡∏Å‡∏•‡πÑ‡∏Å‡∏£‡∏±‡∏ê‡∏™‡∏†‡∏≤`, nameSuffix: ['‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Ç‡πâ‡∏≤‡∏á‡∏°‡∏≤‡∏Å‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î', '‡∏á‡∏î‡∏≠‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á', '‡∏•‡πá‡∏≠‡∏ö‡∏ö‡∏µ‡πâ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ú‡∏•‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå', '‡∏≠‡∏†‡∏¥‡∏õ‡∏£‡∏≤‡∏¢‡∏¢‡∏∑‡∏î‡πÄ‡∏¢‡∏∑‡πâ‡∏≠'][i%4], description: `‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏°‡∏ï‡∏¥`, pros: "‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏û‡∏•‡∏¥‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏ß‡∏ï‡πÑ‡∏î‡πâ", cons: "‡∏≠‡∏≤‡∏à‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á", chance_mod: Math.floor(Math.random() * 50 - 25) }));

// ================================================================================================
// ### GAME ENGINE & UI LOGIC - FULLY FUNCTIONAL ###
// ================================================================================================

let gameState = null;
let myChart = null;
const sfxClick = new Audio("data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=");
const sfxSuccess = new Audio("data:audio/wav;base64,UklGRlIAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YUYAAAD29/D5+fjw9fTv8fHw7fDp8Onv6u/q7+zu6+3t6u7p7ujs6e7p7Ojq6erq6err6uvr6+vs7Ozt7e3u7u7v7+/w8PDx8fHy8vLz8/P09PT19fX29vb39/f4+Pj5+fn6+/v7/Pz8/f39/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v-");
const sfxFail = new Audio("data:audio/wav;base64,UklGRiwAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YSAIAAAA////AAA=");
const UI = {
    welcomeScreen: document.getElementById('welcome-screen'), setupScreen: document.getElementById('setup-screen'),
    gameScreen: document.getElementById('game-screen'), sidebarSetup: document.getElementById('sidebar-setup-controls'),
    gameControls: document.getElementById('game-controls'), logArea: document.getElementById('log-area'),
    topBar: { country: document.getElementById('country-info'), party: document.getElementById('party-info'), turn: document.getElementById('turn-info'), money: document.getElementById('money-info') },
    citizenDemands: document.getElementById('citizen-demands')
};

function playSound(s) { s.currentTime = 0; s.play().catch(e => {}); }

function log(message, type = 'normal') {
    const entry = document.createElement('div');
    const colors = {'success': 'var(--color-pro)', 'danger': 'var(--color-con)', 'warning': '#f1c40f', 'info': 'var(--color-extra)'};
    entry.style.color = colors[type] || '#fdfdfd';
    entry.innerHTML = `[T${gameState?.turn || 0}] ${message}`;
    UI.logArea.prepend(entry);
    UI.logArea.scrollTop = 0;
}

function initGame(countryId, partyName) {
    const country = JSON.parse(JSON.stringify(GameData.countries.find(c => c.id === countryId)));
    gameState = {
        countryId, playerPartyName: partyName, turn: 1, money: 1000,
        parties: country.parties.map((p, i) => ({ 
            ...p, popularity: 40 + Math.floor(Math.random() * 20),
            status: 'active', color: `hsl(${(i * (360 / country.parties.length))}, 70%, 65%)`
        })),
        stats: { gdp: 50, satisfaction: 50, crime: 50, pollution: 50 },
        opponentActions: [], citizenDemands: [], passedLawsThisTurn: new Set()
    };
    UI.welcomeScreen.style.display = 'none'; UI.setupScreen.style.display = 'none';
    UI.gameScreen.style.display = 'block'; UI.sidebarSetup.style.display = 'none';
    UI.gameControls.style.display = 'flex';
    generateNewDemands();
    updateUI(); 
    switchTab('stats');
    log(`‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏û‡∏£‡∏£‡∏Ñ <strong>${partyName}</strong> ‡πÉ‡∏ô <strong>${country.name}</strong>!`, 'success');
}

function updateUI() {
    if (!gameState) return;
    const country = GameData.countries.find(c => c.id === gameState.countryId);
    UI.topBar.country.textContent = `‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®: ${country.name}`;
    UI.topBar.party.textContent = `‡∏û‡∏£‡∏£‡∏Ñ: ${gameState.playerPartyName}`;
    UI.topBar.turn.textContent = `‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô: ${gameState.turn}`;
    UI.topBar.money.textContent = `‡∏á‡∏ö: $${gameState.money.toLocaleString()}M`;
    renderDemands();
    const activeTabId = document.querySelector('.tab-content[style*="display: block"]')?.id;
    if (activeTabId) {
        const tabName = activeTabId.replace('-tab', '');
        switchTab(tabName, false);
    } else {
        switchTab('stats', false);
    }
}

function switchTab(tabId, playSfx = true) {
    if (playSfx) playSound(sfxClick);
    document.querySelectorAll('.tab-content').forEach(t => t.style.display = 'none');
    const content = document.getElementById(`${tabId}-tab`);
    if (content) content.style.display = 'block';
    
    const renderMap = {
        'stats': renderStats, 'parties': renderParties, 'parliament': renderParliament, 'opponent-actions': renderOpponentActions,
        'laws': () => renderDetailedTab('laws-tab', 'üìú ‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢', '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏™‡∏ô‡∏≠‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏û‡∏±‡∏í‡∏≤‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏¥‡∏¢‡∏°', GameData.laws),
        'propaganda': () => renderDetailedTab('propaganda-tab', 'üì¢ ‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤‡∏ä‡∏ß‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠', '‡πÉ‡∏ä‡πâ‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡∏®‡∏±‡∏ï‡∏£‡∏π‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏†‡∏≤‡∏û‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå', GameData.propaganda, true),
        'espionage': () => renderDetailedTab('espionage-tab', 'üïµÔ∏è ‡∏™‡∏≤‡∏¢‡∏•‡∏±‡∏ö', '‡∏™‡πà‡∏á‡∏ó‡∏µ‡∏°‡∏™‡∏≤‡∏¢‡∏•‡∏±‡∏ö‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏•‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡∏¥‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö', GameData.espionage, true),
        'assassination': () => renderDetailedTab('assassination-tab', '‚ò†Ô∏è ‡∏•‡∏≠‡∏ö‡∏™‡∏±‡∏á‡∏´‡∏≤‡∏£', '‡∏™‡∏±‡πà‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡∏°‡∏™‡∏±‡∏á‡∏´‡∏≤‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á (‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å)', GameData.assassins, true),
        'revolution': () => renderDetailedTab('revolution-tab', 'üí£ ‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏õ‡∏è‡∏¥‡∏ß‡∏±‡∏ï‡∏¥/‡∏Å‡∏ö‡∏è', '‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÉ‡∏ï‡πâ‡∏î‡∏¥‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏±‡πà‡∏ô‡∏õ‡πà‡∏ß‡∏ô‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®', GameData.revolution)
    };
    if (renderMap[tabId]) renderMap[tabId]();
}

function renderStats() {
    const tab = document.getElementById('stats-tab');
    tab.innerHTML = `<h2>üìà ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏¥‡∏¢‡∏°‡∏û‡∏£‡∏£‡∏Ñ‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á</h2><div style="height: 400px;"><canvas id="polls-chart"></canvas></div>`;
    if (myChart) myChart.destroy();
    const ctx = document.getElementById('polls-chart').getContext('2d');
    myChart = new Chart(ctx, {
        type: 'bar',
        data: { 
            labels: gameState.parties.map(p => p.name),
            datasets: [{ 
                label: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏¥‡∏¢‡∏° (%)', data: gameState.parties.map(p => p.popularity),
                backgroundColor: gameState.parties.map(p => p.status === 'eliminated' ? '#555' : p.color),
                borderColor: '#1c2833', borderWidth: 2, borderRadius: 4
            }]
        },
        options: { 
            maintainAspectRatio: false, indexAxis: 'y', 
            scales: { y: { ticks: { color: 'white', font: { size: 12 } } }, x: { beginAtZero: true, max: 100, ticks: { color: 'white' } } }, 
            plugins: { legend: { display: false } } 
        }
    });
}

function renderParties() {
    const tab = document.getElementById('parties-tab');
    let html = '<h2>üèõÔ∏è ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏û‡∏£‡∏£‡∏Ñ‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á</h2>';
    gameState.parties.forEach(p => {
        html += `<div class="item-box party-status-box ${p.status === 'eliminated' ? 'eliminated' : ''}" style="border-left-color: ${p.color};">
            <h3>${p.name}</h3>
            <p><strong>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏¥‡∏¢‡∏°:</strong> ${p.popularity.toFixed(1)}%</p>
            <p><strong>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:</strong> ${p.status === 'active' ? '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£' : '‡∏ñ‡∏π‡∏Å‡∏¢‡∏∏‡∏ö'}</p>
        </div>`;
    });
    tab.innerHTML = html;
}

function renderParliament() {
    const tab = document.getElementById('parliament-tab');
    let html = '<h2>‚öñÔ∏è ‡∏£‡∏±‡∏ê‡∏™‡∏†‡∏≤‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡πÑ‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á</h2><p class="help-text">‡∏Å‡∏•‡πÑ‡∏Å‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏≠‡∏≤‡∏à‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô</p>';
    [...GameData.parliamentMechanics].sort(()=>0.5-Math.random()).slice(0, 5).forEach(m => {
        html += `<div class="item-box"><h4>${m.name}</h4><p class="description">${m.description}</p><div class="details"><p class="pro"><strong>‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:</strong> ${m.pros}</p><p class="con"><strong>‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢:</strong> ${m.cons}</p></div></div>`;
    });
    tab.innerHTML = html;
}

function renderOpponentActions() {
    const tab = document.getElementById('opponent-actions-tab');
    let html = '<h2>ü§ñ ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á AI</h2>';
    if (!gameState.opponentActions || gameState.opponentActions.length === 0) {
        html += '<div class="item-box"><p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à‡∏à‡∏≤‡∏Å‡∏ù‡πà‡∏≤‡∏¢‡∏ï‡∏£‡∏á‡∏Ç‡πâ‡∏≤‡∏°‡πÉ‡∏ô‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤</p></div>';
    } else {
        [...gameState.opponentActions].reverse().forEach(action => {
            html += `<div class="item-box" style="border-left-color: ${action.color};">
                <p><strong>[${action.party}]</strong> ‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå <strong>${action.action.name}</strong></p>
                <p class="description">${action.action.description}</p>
                <p class="details"><span class="con">‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢: ${action.target || '‡∏ï‡∏ô‡πÄ‡∏≠‡∏á'}</span> | <span class="pro">‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: ${action.result}</span></p>
            </div>`;
        });
    }
    tab.innerHTML = html;
}

function renderDemands() {
    let html = '<h3>‡∏Ç‡πâ‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏£‡πâ‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô</h3>';
    if(gameState.citizenDemands.length > 0) {
        html += '<ul>';
        gameState.citizenDemands.forEach(d => { html += `<li>${d.text}</li>`; });
        html += '</ul>';
    } else {
        html += '<p>‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏™‡∏á‡∏ö‡∏™‡∏∏‡∏Ç</p>';
    }
    UI.citizenDemands.innerHTML = html;
}

function renderDetailedTab(tabId, title, helpText, data, requireTarget = false) {
    const tab = document.getElementById(tabId);
    let html = `<h2>${title}</h2><p class="help-text">${helpText}</p>`;
    const activeOpponents = gameState.parties.filter(p => p.name !== gameState.playerPartyName && p.status === 'active');
    data.slice(0, 15).forEach(item => {
        let successRateText = '';
        if (item.effects.successRate) {
            successRateText = `<p class="extra"><strong>‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:</strong> ${Math.round(item.effects.successRate * 100)}%</p>`;
        } else if (item.effects.risk) {
            successRateText = `<p class="extra"><strong>‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:</strong> ${100 - item.effects.risk}% (‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á ${item.effects.risk}%)</p>`;
        }
        html += `<div class="item-box" data-id="${item.id}">
            <h4>${item.name}</h4> <p class="description">${item.description}</p>
            <div class="details"> <p class="pro"><strong>‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:</strong> ${item.pros}</p> <p class="con"><strong>‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢:</strong> ${item.cons}</p>
                <p><strong>‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢:</strong> $${item.cost}M</p> ${successRateText} <p class="extra"><strong>‡∏û‡∏¥‡πÄ‡∏®‡∏©:</strong> ${item.extra}</p>
            </div>
            ${requireTarget && activeOpponents.length > 0 ? `<select class="target-select">${activeOpponents.map(p=>`<option value="${p.name}">${p.name}</option>`).join('')}</select>` : ''}
            <button class="action-btn" data-type="${tabId.replace('-tab','')}" ${requireTarget && activeOpponents.length === 0 ? 'disabled' : ''}>‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</button>
        </div>`;
    });
    tab.innerHTML = html;
}

function handleAction(btn) {
    const box = btn.closest('.item-box');
    const id = box.dataset.id;
    const type = btn.dataset.type;
    const dataMap = { laws: GameData.laws, propaganda: GameData.propaganda, espionage: GameData.espionage, assassination: GameData.assassins, revolution: GameData.revolution };
    const item = dataMap[type].find(i => i.id === id);
    const select = box.querySelector('.target-select');
    const targetName = select ? select.value : null;

    if (gameState.money < item.cost) { playSound(sfxFail); return alert("‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠!"); }
    gameState.money -= item.cost;
    log(`‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à: <strong>${item.name}</strong>...`, 'warning');
    btn.disabled = true;

    setTimeout(() => {
        let isSuccess = Math.random() < (item.effects.successRate || 1 - (item.effects.risk / 100) || 0.7);
        if (isSuccess) {
            playSound(sfxSuccess);
            log(`‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à <strong>"${item.name}"</strong> ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!`, 'success');
            if (type === 'laws') { gameState.passedLawsThisTurn.add(item.id); }
            if (type === 'assassination' && targetName) {
                const targetParty = gameState.parties.find(p => p.name === targetName);
                if (targetParty) {
                    targetParty.popularity = Math.max(0, targetParty.popularity - 15);
                    log(`‡πÅ‡∏Å‡∏ô‡∏ô‡∏≥‡∏Ç‡∏≠‡∏á‡∏û‡∏£‡∏£‡∏Ñ <strong>${targetName}</strong> ‡∏ñ‡∏π‡∏Å‡∏•‡∏≠‡∏ö‡∏™‡∏±‡∏á‡∏´‡∏≤‡∏£! ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏¥‡∏¢‡∏°‡∏•‡∏î‡∏•‡∏á 15%`, 'danger');
                }
            }
        } else {
            playSound(sfxFail);
            log(`‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à <strong>"${item.name}"</strong> ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß!`, 'danger');
            if(type === 'assassination') {
                 gameState.parties.find(p => p.name === gameState.playerPartyName).popularity -= 25;
                 log(`‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏•‡∏≠‡∏ö‡∏™‡∏±‡∏á‡∏´‡∏≤‡∏£‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß‡πÅ‡∏•‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏õ‡∏á! ‡∏û‡∏£‡∏£‡∏Ñ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏™‡∏µ‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏¥‡∏¢‡∏°‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á!`, 'danger');
            }
        }
        btn.disabled = false;
        updateUI();
    }, 1500);
}

function applyDemandPenalties() {
    gameState.citizenDemands.forEach(demand => {
        if (!gameState.passedLawsThisTurn.has(demand.relatedLaw.id)) {
            log(`‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô‡πÑ‡∏°‡πà‡∏û‡∏≠‡πÉ‡∏à‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö: <strong>${demand.relatedLaw.name}</strong>`, 'danger');
            gameState.parties.forEach(p => {
                if(p.status === 'active') p.popularity = Math.max(0, p.popularity - 0.5);
            });
        }
    });
    gameState.passedLawsThisTurn.clear();
}

function generateNewDemands() {
    gameState.citizenDemands = [];
    const shuffledLaws = [...GameData.laws].sort(() => 0.5 - Math.random());
    for(let i = 0; i < 3; i++) {
        const law = shuffledLaws[i];
        gameState.citizenDemands.push({ text: `‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤ "${law.description}"`, relatedLaw: law });
    }
}

function runAITurns() {
    log("AI ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£...", 'info');
    applyDemandPenalties();
    gameState.opponentActions = []; 
    const difficulty = parseInt(document.getElementById('ai-difficulty').value, 10);
    const activeParties = gameState.parties.filter(p => p.status === 'active');

    activeParties.forEach(p => {
        if (p.name === gameState.playerPartyName) return;
        if (p.popularity <= 5 && p.status === 'active') {
            p.status = 'eliminated';
            log(`‡∏û‡∏£‡∏£‡∏Ñ <strong>${p.name}</strong> ‡∏ñ‡∏π‡∏Å‡∏¢‡∏∏‡∏ö‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏¥‡∏¢‡∏°‡∏ï‡∏Å‡∏ï‡πà‡∏≥!`, 'danger');
            return;
        }

        if (p.status === 'active' && Math.random() < (0.25 * difficulty)) {
            const strategy = GameData.aiStrategies[Math.floor(Math.random() * GameData.aiStrategies.length)];
            const potentialTargets = activeParties.filter(t => t.name !== p.name && t.status === 'active');
            if (potentialTargets.length === 0) return;
            const target = potentialTargets[Math.floor(Math.random() * potentialTargets.length)];
            
            let resultText = "";
            if(strategy.effects.pop_gain) { p.popularity = Math.min(100, p.popularity + strategy.effects.pop_gain); resultText += `‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏¥‡∏¢‡∏°‡∏ï‡∏ô‡πÄ‡∏≠‡∏á +${strategy.effects.pop_gain}%. `; }
            if(strategy.effects.target_pop_loss && target) { target.popularity = Math.max(0, target.popularity - strategy.effects.target_pop_loss); resultText += `‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏¥‡∏¢‡∏° ${target.name} -${strategy.effects.target_pop_loss}%.`; }
            gameState.opponentActions.push({ party: p.name, color: p.color, action: strategy, target: target?.name, result: resultText || "‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏†‡∏≤‡∏¢‡πÉ‡∏ô" });
        }
    });

    gameState.turn++;
    gameState.money += 50 + Math.floor(gameState.stats.gdp / 4);
    generateNewDemands();
    log(`‡∏à‡∏ö‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô! ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô‡∏ó‡∏µ‡πà ${gameState.turn}`, 'success');
    setTimeout(updateUI, 1200);
}

// ================================================================================================
// ### EVENT LISTENERS - GUARANTEED TO WORK ###
// ================================================================================================
document.addEventListener('DOMContentLoaded', () => {
    
    function showSetupScreen() {
        playSound(sfxClick);
        UI.welcomeScreen.style.display = 'none'; UI.setupScreen.style.display = 'block';
        const countrySelector = document.getElementById('country-selector');
        countrySelector.innerHTML = GameData.countries.map(c => `<option value="${c.id}">${c.name}</option>`).join('');
        
        const partySelector = document.getElementById('party-selector');
        
        function updateCountryDetails() {
            const country = GameData.countries.find(c => c.id === countrySelector.value);
            document.getElementById('country-details').innerHTML = `<p class="pro"><strong>‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:</strong> ${country.pros}</p><p class="con"><strong>‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢:</strong> ${country.cons}</p>`;
        }

        function updatePartyList() {
            const country = GameData.countries.find(c => c.id === countrySelector.value);
            partySelector.innerHTML = country.parties.map(p => `<option value="${p.name}">${p.name}</option>`).join('');
            updateCountryDetails();
            updatePartyDetails();
        }

        function updatePartyDetails() {
            const country = GameData.countries.find(c => c.id === countrySelector.value);
            const party = country.parties.find(p => p.name === partySelector.value);
            if(party) document.getElementById('party-details').innerHTML = `<p class="pro"><strong>‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:</strong> ${party.pros}</p><p class="con"><strong>‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢:</strong> ${party.cons}</p>`;
        }

        countrySelector.addEventListener('change', updatePartyList);
        partySelector.addEventListener('change', updatePartyDetails);
        updatePartyList();
    }
    
    document.body.addEventListener('click', e => {
        const target = e.target;
        if (!target) return;

        if (target.id === 'welcome-start-btn' || target.id === 'new-game-btn') { showSetupScreen(); }
        if (target.id === 'start-game-btn') {
            const country = document.getElementById('country-selector').value;
            const party = document.getElementById('party-selector').value;
            initGame(country, party);
        }

        if (!gameState) return;

        if (target.id.startsWith('nav-')) { switchTab(target.id.replace('nav-', '')); }
        if (target.id === 'add-money-btn') { playSound(sfxSuccess); gameState.money += 100; updateUI(); log("‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô <strong>$100,000,000</strong>", "success"); }
        if (target.id === 'end-turn-btn') { playSound(sfxClick); runAITurns(); }
        if (target.id === 'save-game-btn') { localStorage.setItem('democracyV5Save_Final', JSON.stringify(gameState)); alert("‡πÄ‡∏Å‡∏°‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß!"); }
        if (target.id === 'load-game-btn') {
            const saved = localStorage.getItem('democracyV5Save_Final');
            if (saved && confirm("‡∏û‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å, ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏Å‡∏°‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?")) { 
                gameState = JSON.parse(saved); 
                UI.welcomeScreen.style.display = 'none'; UI.setupScreen.style.display = 'none';
                UI.gameScreen.style.display = 'block'; UI.sidebarSetup.style.display = 'none';
                UI.gameControls.style.display = 'flex';
                updateUI(); 
                log("‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏Å‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!", "success"); 
            } else if (!saved) { alert("‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å!"); }
        }
        if (target.classList.contains('action-btn')) { handleAction(target); }
    });
});
</script>
</body>
</html>
